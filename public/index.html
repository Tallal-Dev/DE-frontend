<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Department of Education</title>
    <link rel="icon" type="image/png" href="UOH.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/426cc4a5db.js" crossorigin="anonymous"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .hero {
            background-size: cover;
            background-position: center;
            transition: background-image 1s ease-in-out;
        }

        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: white;
            min-width: 250px;
            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 10;
            padding-top: 8px;
            border-radius: 4px;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            display: block;
            text-align: left;
            transition: background 0.3s;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <header class="bg-gradient-to-l from-blue-900 to-blue-600 text-white py-3 px-6">
        <div class="flex justify-between items-center">
            <img class="h-10 md:h-12" src="UOH LOGO.png" alt="University of Haripur">

            <button id="menu-btn" class="block md:hidden text-white focus:outline-none">
                <i class="fas fa-bars text-2xl"></i>
            </button>

            <nav class="hidden md:flex space-x-6 font-semibold">
                <a href="#" class="hover:underline hover:text-yellow-400">Home</a>
                <div class="dropdown">
                    <a href="#" class="hover:underline hover:text-yellow-400">Programs</a>
                    <div id="program-dropdown" class="dropdown-content"></div>
                </div>
                <a href="./faculity.html" class="hover:underline hover:text-yellow-400">Faculty</a>
                <a href="./scheme.html" class="hover:underline hover:text-yellow-400">Scheme of Studies</a>
                <a href="#footer" class="hover:underline hover:text-yellow-400">Contact</a>
                <button id="menu-toggle" class="md:hidden text-white focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i> <!-- Font Awesome icon for menu -->
                </button>
                
            </nav>
        </div>

       
        <div id="mobile-menu" class="hidden md:hidden flex-col bg-blue-800 text-white space-y-4 p-4 mt-2 rounded-md">
            <a href="#" class="block hover:underline hover:text-yellow-400">Home</a>
            <div id="mobile-programs-toggle" class="flex items-center justify-between">
                <a href="#"  class="block hover:underline hover:text-yellow-400">Programs</a>
                <i id="programs-arrow" class="fas fa-chevron-down ml-2"></i>
            </div>
            <div id="mobile-program-dropdown" class="mobile-dropdown-content hidden">
                </div>
            <a href="./faculity.html" class="block hover:underline hover:text-yellow-400">Faculty</a>
            <a href="./scheme.html" class="block hover:underline hover:text-yellow-400">Scheme of Studies</a>
            <a href="#footer" class="block hover:underline hover:text-yellow-400">Contact</a>
        </div>
    </header>

    <section id="hero" class="hero h-[500px] flex items-center justify-center text-white text-center bg-black bg-opacity-50">
        <div class="bg-black bg-opacity-50 p-6 rounded-lg">
            <h2 class="text-4xl font-bold">Department of <span class="bg-yellow-500 px-2">Education</span></h2>
            <p class="mt-2 text-lg">Empowering Minds, Shaping the Future.</p>
        </div>
    </section>

    <section class="py-12 px-6 md:px-60 bg-gray-200">
        <h3 class="text-3xl font-semibold text-center">Vision</h3>
        <p class="mt-4 text-center">
            The Department of Education strives to equip the prospective teachers with the best possible ideals, 
            skills and knowledge enabling them to serve better at local, national and international levels by restoring 
            hope to build their respective communities in general.
        </p>
    </section>

    <section class="py-12 px-6 md:px-60 bg-gray-300">
        <h3 class="text-3xl font-semibold text-center">Mission</h3>
        <p class="mt-4 text-center">
            Our mission is to provide the pre and in-service teachers with the updated knowledge of teacher 
            education at elementary, secondary and higher levels according to the current international scenario.
             The education provided is meant to equip the teachers of the future with the demanding 
             global skills including counseling, management, technological, research, assessment and 
             educational leadership. Quality of education is maintained by designing courses for teacher 
             education; BEd, MEd, MPhil and PhD in such a way that will enlighten educational leaders with 
             analytical and interpretational capabilities to reshape, guide and promote the cause of education in Pakistan. 
             In order to generate a class of quality teachers, education department strives to make the student-teachers 
             result-oriented, problem-solvers and positive minded personalities with sublimity of character according to 
             the ideology of Islam. In turn, these trained teachers educate the students and enlighten their minds. The programs 
             offered are to develop the student-teachers in terms of their qualification, skills, educational planning and guidance. 
             Along with inculcating among them creative and innovative ideas, they will, as well, build their organizational capabilities. 
             We believe in education that can empower the student-teachers with firm, solid and unwavering belief in the 
             truth of Islam and great inspiration to work devotedly towards the solidarity and integration of Pakistan for the 
             existing and coming generations.
        </p>
    </section>

    <section class="py-12 px-6 bg-gray-200">
        <h3 class="text-3xl font-semibold text-center">Latest News</h3>
        <div id="news-list" class="grid md:grid-cols-3 gap-6 mt-6"></div>
    </section>

    <footer id="footer" class="bg-blue-900 text-white py-6 mt-auto">
        <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-6 text-center md:text-left">
           
            <div>
                <h3 class="text-lg font-semibold">Quick Links</h3>
                <ul class="mt-2 space-y-2">
                    <li><a href="index.html" class="hover:underline">Home</a></li>
                    <li><a href="faculity.html" class="hover:underline">Faculty</a></li>
                    <li><a href="scheme.html" class="hover:underline">Scheme</a></li>
                </ul>
            </div>
    
            <div>
                <h3 class="text-lg font-semibold">Follow Us</h3>
                <div class="flex justify-center md:justify-start mt-2 space-x-4">
                    <a href="#" class="hover:text-gray-400"><i class="fab fa-facebook text-2xl"></i></a>
                    <a href="#" class="hover:text-gray-400"><i class="fab fa-twitter text-2xl"></i></a>
                    <a href="#" class="hover:text-gray-400"><i class="fab fa-linkedin text-2xl"></i></a>
                </div>
            </div>
    
            <div>
                <h3 class="text-lg font-semibold">Contact Us</h3>
                <div class="mt-2 space-y-2">
                    <p><strong>Phone No:</strong> +92-312-3456789</p>
                    <p><strong>Email:</strong> info@uoh.edu.pk</p>
                    <p><strong>Address:</strong> Department of Education, The University of Haripur, Hattar Road Near Swat Chowk, Haripur, Khyber Pakhtunkhwa, Pakistan</p>
                </div>
            </div>
        </div>
    
        <!-- Newsletter Subscription Section -->
        <div class="mt-6 text-center">
            <h3 class="text-lg font-semibold">Subscribe to our Newsletter</h3>
            <form id="newsletter-form" class="mt-2 flex justify-center">
                <input type="email" id="email" name="email" placeholder="Enter your email" class="p-2 rounded-l-md text-black" required>
                <button type="submit" class="bg-gray-400 text-white px-4 py-2 rounded-r-md hover:bg-yellow-600">Subscribe</button>
            </form>
            <p id="message" class="mt-2 text-sm"></p>
        </div>
    </footer>
    <footer class="bg-black">
        <div  >
            
            <p class="mt-2 text-gray-300 text-center">&copy; 2025 University of Haripur. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ✅ Newsletter Email Posting
            const newsletterForm = document.getElementById('newsletter-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', async function(event) {
                    event.preventDefault();
                    const emailInput = document.getElementById('email');
                    const message = document.getElementById('message');
        
                    try {
                        const response = await fetch('https://de-backend-one.vercel.app/api/newsletter', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ email: emailInput.value.trim() })
                        });
        
                        const data = await response.json();
                        message.textContent = data.message || "Subscription successful!";
                        message.style.color = response.ok ? 'green' : 'red';
                        if (response.ok) emailInput.value = ''; // Clear input on success
                    } catch (error) {
                        message.textContent = "Error subscribing. Please try again!";
                        message.style.color = 'red';
                    }
                });
            }
        
            // ✅ Mobile Menu Toggle
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuToggle && mobileMenu) {
                menuToggle.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        
            // ✅ Mobile Programs Dropdown Toggle
            const mobileProgramsToggle = document.getElementById('mobile-programs-toggle');
            const mobileProgramDropdown = document.getElementById('mobile-program-dropdown');
            const programsArrow = document.getElementById('programs-arrow');
        
            if (mobileProgramsToggle && mobileProgramDropdown && programsArrow) {
                mobileProgramsToggle.addEventListener('click', () => {
                    mobileProgramDropdown.classList.toggle('hidden');
                    programsArrow.classList.toggle('fa-chevron-down');
                    programsArrow.classList.toggle('fa-chevron-up');
                });
            }
        
            // ✅ Fetch Programs for Dropdown
            async function fetchProgramsDropdown() {
                try {
                    const res = await fetch('https://de-backend-one.vercel.app/api/programs');
                    if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);
        
                    const programs = await res.json();
                    const dropdown = document.getElementById('program-dropdown');
                    const mobileDropdown = document.getElementById('mobile-program-dropdown');
        
                    if (dropdown) dropdown.innerHTML = '';
                    if (mobileDropdown) mobileDropdown.innerHTML = '';
        
                    programs.forEach(program => {
                        const linkDesktop = `<a href="program.html?id=${program._id}" class="block text-black p-2 hover:bg-gray-200">${program.name}</a>`;
                        const linkMobile = `<a href="program.html?id=${program._id}" class="block text-white p-2 hover:bg-blue-700">${program.name}</a>`;
                        if (dropdown) dropdown.innerHTML += linkDesktop;
                        if (mobileDropdown) mobileDropdown.innerHTML += linkMobile;
                    });
                } catch (error) {
                    console.error('Error fetching programs:', error);
                }
            }
        
            // ✅ Fetch News Section
            async function fetchNews() {
                try {
                    const res = await fetch('https://de-backend-one.vercel.app/api/news');
                    if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);
        
                    const news = await res.json();
                    const newsList = document.getElementById('news-list');
                    if (!newsList) return;
                    newsList.innerHTML = '';
        
                    const today = new Date();
                    const sevenDaysAgo = new Date();
                    sevenDaysAgo.setDate(today.getDate() - 7);
        
                    news.forEach(item => {
                        const newsDate = new Date(item.createdAt);
                        const isNew = newsDate >= sevenDaysAgo;
        
                        const newsItemDiv = document.createElement('div');
                        newsItemDiv.classList.add('p-4', 'bg-white', 'shadow', 'rounded', 'flex', 'flex-col', 'gap-2');
        
                        newsItemDiv.innerHTML = `
                            <div class="flex items-center gap-3">
                                ${isNew ? '<img src="new.gif" alt="New" class="w-5 h-3">' : ''}
                                <a href="news.html?id=${item._id}" class="block hover:underline text-blue-700 text-lg font-semibold">
                                    ${item.title}
                                </a>
                            </div>
                            <p class="text-gray-600">${item.summary || 'No summary available.'}</p>
                        `;
                        newsList.appendChild(newsItemDiv);
                    });
                } catch (error) {
                    console.error('Error fetching news:', error);
                    const newsList = document.getElementById('news-list');
                    if (newsList) newsList.innerHTML = `<p class="text-red-500 text-center">Failed to load news.</p>`;
                }
            }
        
            // ✅ Fetch Hero Images
            async function fetchHeroImages() {
                try {
                    const res = await fetch('https://de-backend-one.vercel.app/api/images');
                    if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);
        
                    const imagesData = await res.json();
                    const heroSection = document.getElementById('hero');
        
                    if (heroSection) {
                        if (imagesData && imagesData.length > 0) {
                            heroSection.style.backgroundImage = `url('${imagesData[0].url}')`;
                        } else {
                            console.warn('No hero images found in the database.');
                            heroSection.style.backgroundImage = "url('default-hero.jpg')"; // Set a fallback image
                        }
                    }
                } catch (error) {
                    console.error('Error fetching hero images:', error);
                }
            }
        
            // ✅ Call Functions
            fetchProgramsDropdown();
            fetchNews();
            fetchHeroImages();
        });
        </script>
        
</body>
</html>